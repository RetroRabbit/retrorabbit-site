function buildNav(e,t){var o=document.getElementsByClassName("scene");if(scrollIds=["scene-home"],"undefined"!=typeof e&&null!==e){for(scrollIds=scrollIds.concat(e),i=0;i<o.length;i++)if("scene-home"!==o[i].id){var n=o[i].id;scrollIds.includes(n)?o[i].classList.remove("hidden"):o[i].classList.add("hidden")}}else if("undefined"!=typeof o&&null!==o&&o.length>0)for(i=0;i<o.length;i++)"scene-home"!==o[i].id&&o[i].classList.add("hidden");currentScroll="undefined"!=typeof t&&null!==t&&t===!0?1:0,smoothScroll(scrollIds[currentScroll])}function viewJourney(e,t){"undefined"!=typeof e&&null!==e?e!==currentJourney&&(currentJourney=e,buildNav(window.journeys[e],t)):buildNav()}function currentYPosition(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body&&document.body.scrollTop?document.body.scrollTop:0}function elmYPosition(e){for(var t=document.getElementById(e),o=t.offsetTop,n=t;n.offsetParent&&n.offsetParent!=document.body;)n=n.offsetParent,o+=n.offsetTop;return o}function smoothScroll(e){var t=currentYPosition(),o=elmYPosition(e),n=o>t?o-t:t-o;setActiveScroll(e);var r=Math.round(n/100);r>=20&&(r=20);var l=Math.round(n/25),c=o>t?t+l:t-l,i=0;if(o>t)for(var d=t;d<o;d+=l)setTimeout("window.scrollTo(0, "+c+")",i*r),c+=l,c>o&&(c=o),i++;else for(var d=t;d>o;d-=l)setTimeout("window.scrollTo(0, "+c+")",i*r),c-=l,c<o&&(c=o),i++}function setActiveScroll(e){var t=document.getElementsByClassName("active-scroll")[0],o=document.getElementsByClassName("active-link")[0],n=document.getElementById(e),r=document.getElementById(e+"-link");"undefined"!=typeof t&&null!==t||(t={}),"undefined"!=typeof o&&null!==o||(o={}),t.id!==n.id&&("undefined"!=typeof t.id&&null!==t.id&&t.classList.remove("active-scroll"),"undefined"!=typeof o.id&&null!==o.id&&null!==r&&o.classList.remove("active-link"),n.classList.add("active-scroll"),null!==r&&r.classList.add("active-link"),currentScroll=scrollIds.indexOf(e))}function checkActiveScroll(){direction=dist<0?"down":"up";var e=getNextElementIndex(direction),t=checkNextElementPosition(e,direction),o=scrollIds[e];t&&setActiveScroll(o)}function getNextElementIndex(e){var t=currentScroll;if("up"===e)t>0&&t--;else{if("down"!==e)return;t<scrollIds.length-1&&t++}return t}function checkNextElementPosition(e,t){if(e>=0&&e<scrollIds.length){var o=document.getElementById(scrollIds[e]).getBoundingClientRect(),n=.5*window.innerHeight;if("up"===t){if(n<o.bottom)return currentScroll--,!0}else if("down"===t&&n>o.top)return currentScroll++,!0}return!1}function rrDomStickyScroll(e){dist=-1*e.deltaY,checkActiveScroll()}function rrDomStickyTouchMove(e){touchObj=e.changedTouches[0],dist=parseInt(touchObj.clientY)-startY,checkActiveScroll()}function rrDomStickyTouchStart(e){touchObj=e.changedTouches[0],startY=parseInt(touchObj.clientY)}if(Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),o=parseInt(t.length,10)||0;if(0===o)return!1;var n,r=parseInt(arguments[1],10)||0;r>=0?n=r:(n=o+r,n<0&&(n=0));for(var l;n<o;){if(l=t[n],e===l||e!==e&&l!==l)return!0;n++}return!1}),"function"!=typeof rrDomStickyScroll||"function"!=typeof rrDomStickyTouchMove){var currentScroll,currentJourney,scrolling=!1,touchObj=null,bodyTop,startY,dist=0,direction,scrollIds=[];window.addEventListener("mousewheel",rrDomStickyScroll,!1),window.addEventListener("DOMMouseScroll",rrDomStickyScroll,!1),window.addEventListener("touchmove",rrDomStickyTouchMove,!1),window.addEventListener("touchstart",rrDomStickyTouchStart,!1)}