function rrDomCarousel(e){function t(){loadJSON(function(e){r=JSON.parse(e),n(r)},"js/carouselItems.json")}function s(e,t){if(c!=e){var s=t.querySelector("#mini-slider").getElementsByClassName("mini-scroll");s[c].className="mini-scroll";var n=t.getElementsByClassName("heading"),l=t.getElementsByClassName("image"),i=t.getElementsByClassName("contents");i[c].className="contents off",c=e,i[c].className="contents on",s[c].className+=" selected",d=n[0]&&n[0].clientWidth*c,n[0]&&a(n,l,i,d)}}function n(e){var t=document.getElementById(m),n=t.getElementsByClassName("carousel-items")[0],a=t.getElementsByClassName("headings-container")[0],i=t.getElementsByClassName("images-container")[0],c=t.getElementsByClassName("contents-container")[0],d=t.querySelector("#mini-slider"),r=t.clientWidth;d.style.width=t.clientWidth+"px",o=t.clientWidth*e.length,t.style.width=r+"px",n.style.overflowX="hidden",n.style.width=o+"px",a.style.width=o+"px",a.style.overflowX="hidden",i.style.width=o+"px",i.style.overflow="hidden",c.style.width=o+"px",c.style.overflowX="hidden";for(var y=0;y<e.length;y++)if(y!=e.length){var h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),N=document.createElement("label");N.className=0==y?"mini-scroll selected":"mini-scroll",function(e){N.addEventListener("click",function(){s(e,t)})}(y),h.innerHTML='<div class="container" ><h4>'+e[y].heading+"</h4></div>",h.className=0==y?"heading on":"heading off",h.style.width=r+"px",g.style.backgroundImage="url('"+e[y].image+"')",g.className=0==y?"image on":"image off",g.style.width=r+"px",f.innerHTML='<div class="container" >'+e[y].content+"</div>",f.className=0==y?"contents on":"contents off",f.style.width=r+"px",a.appendChild(h),i.appendChild(g),c.appendChild(f),d.appendChild(N)}l()}function l(){var e,t,s,n,l=document.getElementById(m),i=l.getElementsByClassName("carousel-items")[0],r=l.getElementsByClassName("headings-container")[0],y=l.getElementsByClassName("images-container")[0],h=l.getElementsByClassName("contents-container")[0],g=(document.getElementById("mini-slider"),r.getElementsByClassName("heading")),f=y.getElementsByClassName("image"),N=h.getElementsByClassName("contents"),u=document.getElementById("mini-slider").getElementsByClassName("mini-scroll"),p=l.querySelector(".scrollPrev"),E=l.querySelector(".scrollNext");d=o,E.addEventListener("click",function(){u[c].className="mini-scroll",N[c].className="contents off",c+=1,c>=g.length&&(c=0),d=g[0].clientWidth*c,d>=o&&(d=0),N[c].className="contents on",u[c].className+=" selected",a(g,f,N,d)}),p.addEventListener("click",function(){u[c].className="mini-scroll",N[c].className="contents off",d-=g[0].clientWidth,c-=1,0>c&&(c=g.length-1),0>d&&(d=o-g[0].clientWidth),N[c].className="contents on",u[c].className+=" selected",a(g,f,N,d)}),i.addEventListener("touchmove",function(l){e=l.changedTouches[0],dist=parseInt(e.clientX)-t;var i=n-dist;a(g,f,N,i),u[c].className="mini-scroll",N[c].className="contents off",c=dist>100?s-1:dist<-100?s+1:s,c>=N.length&&(c=N.length-1),0>c&&(c=0),N[c].className="contents on",u[c].className+=" selected"},!1),i.addEventListener("touchstart",function(a){e=a.changedTouches[0],t=parseInt(e.clientX),s=c;var m=l.clientWidth;n=s*m+4*s,i.classList.add("quick-transform-transition")},!1),i.addEventListener("touchend",function(e){i.classList.remove("quick-transform-transition"),d=l.clientWidth*c,a(g,f,N,d)},!1)}function a(e,t,s,n){for(var l=0;l<e.length;l++)e[l].style.transform="translate3d(-"+n+"px,0,0)",e[l].style["-ms-transform"]="translate3d(-"+n+"px,0,0)",e[l].style["-moz-transform"]="translate3d(-"+n+"px,0,0)",e[l].style["-webkit-transform"]="translate3d(-"+n+"px,0,0)",t[l].style.transform="translate3d(-"+n+"px,0,0)",t[l].style["-ms-transform"]="translate3d(-"+n+"px,0,0)",t[l].style["-moz-transform"]="translate3d(-"+n+"px,0,0)",t[l].style["-webkit-transform"]="translate3d(-"+n+"px,0,0)",s[l].style.transform="translate3d(-"+n+"px,0,0)",s[l].style["-ms-transform"]="translate3d(-"+n+"px,0,0)",s[l].style["-moz-transform"]="translate3d(-"+n+"px,0,0)",s[l].style["-webkit-transform"]="translate3d(-"+n+"px,0,0)"}function i(e){var t=document.getElementById(m),s=t.getElementsByClassName("carousel-items")[0],n=t.getElementsByClassName("headings-container")[0],l=t.getElementsByClassName("images-container")[0],i=t.getElementsByClassName("contents-container")[0],y=document.getElementById("mini-slider"),h=document.getElementById(m+"-parent").clientWidth;t.style.width=h+"px",y.style.width=h+"px";for(var g=n.getElementsByClassName("heading"),f=l.getElementsByClassName("image"),N=i.getElementsByClassName("contents"),u=0;u<g.length;u++)g[u].style.width=h+"px",f[u].style.width=h+"px",N[u].style.width=h+"px";d=h*c,o=h*r.length,s.style.width=o+"px",n.style.width=o+"px",l.style.width=o+"px",i.style.width=o+"px",a(g,f,N,d)}var m=e,c=0,o=0,d=0,r=[];window.onresize=function(e){i(e)},t()}